{"version":3,"file":"index.js","sourceRoot":"lib/","sources":["navbar/index.ts"],"names":[],"mappings":"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","sourcesContent":["import { defineComponent, h } from 'vue-demi'\nimport { stylePrefix } from '../__builtins__/configs'\nimport {\n  parseStyleUnit,\n  resolveComponent,\n  composeExport,\n} from '../__builtins__/shared'\nimport { usePage } from '../page/useApi'\nimport { NavMenu } from './menu'\n\n// Types\nimport type { Component } from 'vue-demi'\n\nexport interface NavProps {\n  /**\n   * logo\n   */\n  logo?: string | Component\n  /**\n   * left container component, logo 会被忽略如果设置 left\n   */\n  left?: string | Component\n  /**\n   * right container component,\n   */\n  right?: string | Component\n  /**\n   * fixed to top\n   */\n  fixed?: boolean\n  /**\n   * fixed 占位\n   */\n  placeholder?: boolean\n  /**\n   * height, 默认： 68px\n   */\n  height?: string | number\n  /**\n   * content 内容对齐方式，默认：left\n   */\n  contentAlign: 'left' | 'right'\n}\n\nconst Nav = defineComponent<NavProps>({\n  name: 'Navbar',\n  props: {\n    logo: [String, Object],\n    left: {},\n    right: {},\n    fixed: Boolean,\n    placeholder: Boolean,\n    height: [String, Number],\n    contentAlign: {\n      type: String,\n      validator: (value: string) => {\n        return ['left', 'right'].includes(value)\n      },\n    },\n  },\n  setup(props, { slots }) {\n    const prefixCls = `${stylePrefix}-nav`\n    const { containerWidth } = usePage()\n\n    return () => {\n      const {\n        logo,\n        height,\n        left,\n        right,\n        placeholder = false,\n        fixed = false,\n        contentAlign = 'left',\n      } = props\n      const style: Record<string, any> = {}\n      const placeholderStyle: Record<string, any> = {}\n      if (height) {\n        style.height = parseStyleUnit(height)\n        placeholderStyle.height = parseStyleUnit(height)\n      }\n\n      const renderLeft = () => {\n        if (logo) {\n          return h(\n            'div',\n            {\n              class: [`${prefixCls}-content__left`],\n            },\n            [\n              typeof props.logo === 'string'\n                ? h('img', {\n                    class: `${prefixCls}-logo`,\n                    domProps: {\n                      src: props.logo,\n                      alt: 'logo',\n                    },\n                  })\n                : h(props.logo, {\n                    class: `${prefixCls}-logo`,\n                  }),\n            ]\n          )\n        } else if (left) {\n          return h(\n            'div',\n            {\n              class: [`${prefixCls}-content__left`],\n            },\n            [resolveComponent(left)]\n          )\n        }\n\n        return\n      }\n\n      const renderRight = () => {\n        if (right) {\n          return h(\n            'div',\n            {\n              class: [`${prefixCls}-content__right`],\n            },\n            [resolveComponent(right)]\n          )\n        }\n\n        return\n      }\n\n      return h(\n        'div',\n        {\n          class: [prefixCls, fixed ? `${prefixCls}--fixed` : ''],\n          style,\n        },\n        [\n          fixed &&\n            placeholder &&\n            h('div', { class: [`${prefixCls}__placeholder`] }),\n          h(\n            'div',\n            {\n              class: [`${prefixCls}__container`],\n            },\n            [\n              h(\n                'div',\n                {\n                  class: [`${prefixCls}-content`],\n                  style: {\n                    width: containerWidth,\n                  },\n                },\n                [\n                  renderLeft(),\n                  h(\n                    'div',\n                    {\n                      class: [\n                        `${prefixCls}-content__middle`,\n                        `${prefixCls}-content__middle--${contentAlign}`,\n                      ],\n                    },\n                    slots.default?.()\n                  ),\n                  renderRight(),\n                ]\n              ),\n            ]\n          ),\n        ]\n      )\n    }\n  },\n})\n\nexport const Navbar = composeExport(Nav, {\n  Menu: NavMenu,\n})\n\nexport default Navbar\n"]}